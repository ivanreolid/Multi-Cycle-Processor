The purpose of this file is to explain implementation decisions that have been taken and possible problems that are going to appear.

1. Stalls

1.1 RAW

1.1.1 Decode - Execution stages

The RAW detection is done with EX1-EX4 stages. For non ALU WB operations (loads, stores and mults), a bypass with the result of the multiplication is used from the EX5 stage. ALU WB operations cannot use this bypass, since it would result with the instruction advancing to the ALU stage (also a WB) and the multiplication advancing to the WB stage.

Always flopping in memory stage to write back stage, since the latter doesn't stall. The only important thing here to remember is that there are two important wires that have to be flopped with 1 one cycle: wb_valid and reg_wr_en.

Performance results

No caches

Buffer sum
  - Total cycles = 24103
  - Instructions executed = 1677
  - CPI = 14.381

Mem copy
  - Total cycles = 25500
  - Instructions executed = 1804
  - CPI = 14.141

Matrix multiply
  This test is really huge that it takes to much time to simulate (at least with modelsim). The total number of cycles is not accurate since it has been calculated from having the total number of cycles executed for 9 iterations of the loop i and then extrapolated to the 128 iterations for i.
  - Total cycles = 373.450.536
  - Instructions executed = 29.689.746
  - CPI = 12.58
